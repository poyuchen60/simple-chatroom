(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{152:function(e,t,n){e.exports=n(349)},157:function(e,t,n){},184:function(e,t){},346:function(e,t,n){},349:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(21),c=n.n(r),l=(n(157),n(28)),i=n(40),s=n(22),m=n(16),u=n(17),d=n(19),h=n(18),f=n(20),p=n(50),b=n(138),v=n.n(b),E=document.getElementById("modal-root"),g=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).el=document.createElement("div"),n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){E.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){E.removeChild(this.el)}},{key:"render",value:function(){return c.a.createPortal(this.props.children,this.el)}}]),t}(a.Component),C=n(48),O=n.n(C),y=n(31),k=n.n(y),j=n(26),x=n.n(j),S=n(25),D=n.n(S),w=n(39),I=n.n(w),N=n(15),L=n.n(N),U=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={name:n.props.name,intro:n.props.intro},n.handleTextChange=function(e){return function(t){return n.setState(Object(l.a)({},e,t.target.value))}},n.handleSubmit=function(){var e=n.state,t=e.name,a=e.intro,o=n.props,r=o.onSubmit,c=o.onClose;r({name:t,intro:a}),c()},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.connected,a=this.state,r=a.name,c=a.intro,l=this.handleTextChange,i=this.handleSubmit;return n?o.a.createElement(D.a,{open:!0,onClose:t},o.a.createElement(x.a,null,"\u500b\u4eba\u8cc7\u6599"),o.a.createElement(k.a,null,o.a.createElement(I.a,{value:r,onChange:l("name"),margin:"dense",label:"\u540d\u7a31",type:"text",fullWidth:!0}),o.a.createElement(I.a,{value:c,onChange:l("intro"),margin:"dense",label:"\u81ea\u6211\u4ecb\u7d39",type:"text",fullWidth:!0})),o.a.createElement(O.a,null,o.a.createElement(L.a,{onClick:t,color:"primary"},"\u53d6\u6d88"),o.a.createElement(L.a,{onClick:i,color:"primary"},"\u78ba\u5b9a"))):o.a.createElement(D.a,{open:!0},o.a.createElement(x.a,null,"\u4f3a\u670d\u5668\u9023\u7dda\u4e2d..."))}}]),t}(a.Component),B=n(32),_=n.n(B),T=n(34),W=n.n(T),R=n(35),M=n.n(R),A=n(63),J=n.n(A),H=n(38),F=n.n(H),P=n(140),z=n.n(P),G=n(141),K=n.n(G),Y=function(e){var t=e.invitations,n=e.onClose,a=e.onDecline,r=e.onAccept;return o.a.createElement(D.a,{open:!0,onClose:n,maxWidth:"sm",fullWidth:!0},o.a.createElement(x.a,null,"\u9080\u8acb"),o.a.createElement(k.a,null,o.a.createElement(_.a,null,t.map(function(e){var t=e.id,n=e.user,c=e.chatroom;return o.a.createElement(W.a,{key:t},o.a.createElement(M.a,{primary:"".concat(n," \u9080\u8acb\u4f60\u81f3 ").concat(c," \u804a\u5929\u5ba4")}),o.a.createElement(J.a,null,o.a.createElement(F.a,{onClick:r(t),"aria-label":"accept"},o.a.createElement(z.a,null)),o.a.createElement(F.a,{onClick:a(t),"aria-label":"decline"},o.a.createElement(K.a,null))))}))))},V=n(27),$=n.n(V),q=n(142),Q=n.n(q),X=n(144),Z=n.n(X),ee=n(143),te=n.n(ee),ne=n(51),ae=n.n(ne),oe=n(145),re=n.n(oe),ce=n(146),le=n.n(ce),ie=n(88),se=n.n(ie),me=n(30),ue=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={userDialog:!0,invitationDialog:!1},n.handleDialogOpen=function(e){return function(){return n.setState(Object(l.a)({},e,!0))}},n.handleDialogClose=function(){return n.setState({userDialog:!1,invitationDialog:!1})},n.handleSubmit=function(e){(0,n.props.onInfoUpdate)(e)},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.handleDialogClose,t=this.handleDialogOpen,n=this.handleSubmit,r=this.state,c=r.userDialog,l=r.invitationDialog,i=this.props,s=i.classes,m=i.chatrooms,u=i.invitations,d=i.index,h=i.connected,f=i.onSelect,p=i.name,b=i.intro,v=i.onLeave,E=i.onDecline,C=i.onAccept;return o.a.createElement(a.Fragment,null,o.a.createElement($.a,{align:"center",variant:"h3",gutterBottom:!0},"Chatroom"),o.a.createElement("div",{className:s.buttonGroup},o.a.createElement(F.a,{onClick:t("userDialog"),"aria-label":"UserInfo"},o.a.createElement(Q.a,null)),o.a.createElement(F.a,{onClick:t("invitationDialog"),"aria-label":"Invitation"},o.a.createElement(se.a,{color:"secondary",badgeContent:u.length},o.a.createElement(te.a,null))),o.a.createElement(F.a,{onClick:f(-1),"aria-label":"Lobby"},o.a.createElement(Z.a,null))),o.a.createElement(_.a,{className:s.charoomList},m.map(function(e,t){var n=e.name,a=e.members,r=e.id,c=e.unread;return o.a.createElement(W.a,{onClick:f(t),button:!0,key:"chatroom(".concat(r,")")},o.a.createElement(se.a,{color:"secondary",badgeContent:d===t?0:c},o.a.createElement(ae.a,null,o.a.createElement(re.a,null))),o.a.createElement(M.a,{primary:n,secondary:"\u4eba\u6578: ".concat(a.length)}),o.a.createElement(J.a,null,o.a.createElement(F.a,{onClick:v(r),"aria-label":"LeaveChatroom"},o.a.createElement(le.a,null))))})),c&&o.a.createElement(g,null,o.a.createElement(U,{connected:h,name:p,intro:b,onClose:e,onSubmit:n})),l&&!c&&o.a.createElement(g,null,o.a.createElement(Y,{onAccept:C,onDecline:E,invitations:u,onClose:e})))}}]),t}(a.Component),de=Object(me.withStyles)(function(e){return{buttonGroup:{display:"flex",justifyContent:"space-around"},charoomList:{width:"100%"}}})(ue),he=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleSubmit=function(){var e=n.props,t=e.onInvite,a=e.onClose,o=n.state.selected;-1!==o[0]&&t(o[0]),a()},n.handleSearchUsers=function(){var e=n.props.socket,t=n.state.text;e.emit("all_users",t,function(e){return n.setState({users:e})})},n.handleUserSelect=function(e){return function(){return n.setState({selected:[e]})}},n.componentDidMount=function(){n.handleSearchUsers()},n.state={text:"",users:[],selected:[-1]},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.handleUserSelect,t=this.handleSubmit,n=this.props.onClose,a=this.state,r=a.users,c=a.selected;return o.a.createElement(D.a,{open:!0,onClose:n,"aria-labelledby":"user-invite-dialog"},o.a.createElement(x.a,null,"\u9080\u8acb"),o.a.createElement(k.a,null,o.a.createElement(_.a,null,r.map(function(t){var n=t.id,a=t.name;return o.a.createElement(W.a,{button:!0,selected:c[0]===n,onClick:e(n),key:n},o.a.createElement(M.a,{primary:a}))}))),o.a.createElement(O.a,null,o.a.createElement(L.a,{onClick:t,disabled:-1===c[0],color:"primary"},"\u9080\u8acb"),o.a.createElement(L.a,{onClick:n,color:"primary"},"\u53d6\u6d88")))}}]),t}(a.Component),fe=n(64),pe=n.n(fe),be=n(65),ve=n.n(be),Ee=n(89),ge=n.n(Ee),Ce=n(147),Oe=n.n(Ce),ye=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleEnter=function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),n.handleSubmit())},n.handleTextChange=function(e){n.setState({text:e.target.value})},n.handleSubmitSuccess=function(){n.setState({locked:!1,text:""})},n.handleSubmit=function(){var e=n.state,t=e.text,a=e.locked,o=n.props.onSend;!a&&t.length>0&&(o(t,n.handleSubmitSuccess),n.setState({locked:!0}))},n.state={text:"",locked:!1},n.inputRef=o.a.createRef(),n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.text,n=this.handleTextChange,a=this.handleSubmit,r=this.handleEnter,c=this.inputRef;return o.a.createElement("div",{className:e.input},o.a.createElement("div",{className:e.textWraper},o.a.createElement(I.a,{autoFocus:!0,inputRef:c,onKeyDown:r,value:t,onChange:n,fullWidth:!0,multiline:!0,rowsMax:"2",InputProps:{className:e.inputText},label:"\u8a0a\u606f",className:e.inputText,placeholder:"\u5728\u6b64\u8f38\u5165\u8a0a\u606f...",margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0}})),o.a.createElement("div",{className:e.buttonWraper},o.a.createElement(L.a,{onClick:a,color:"default",className:e.inputButton},"\u50b3\u9001")))}}]),t}(a.Component),ke=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).scrollToBottom=function(e){return n.scrollDownHelper.current.scrollIntoView({behavior:e||"auto"})},n.componentDidUpdate=function(){var e=n.props,t=e.chatroom,a=t.id,o=t.unread,r=e.onRead;n.state.atBottom&&(n.scrollToBottom("auto"),o>0&&r(a))},n.componentDidMount=function(){return n.scrollToBottom("auto")},n.handleScroll=function(){var e=n.messagesDiv.current,t=e.clientHeight,a=e.scrollTop+t>=e.scrollHeight;a!==n.state.atBottom&&n.setState({atBottom:a})},n.handleDialogClose=function(){return n.setState({selectedMember:void 0,inviteDialog:!1})},n.handleMemberSelect=function(e){return n.setState({selectedMember:e})},n.handleInviteDialogOpen=function(){return n.setState({inviteDialog:!0})},n.scrollDownHelper=o.a.createRef(),n.messagesDiv=o.a.createRef(),n.state={selectedMember:void 0,inviteDialog:!1,atBottom:!0},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.chatroom,n=t.name,r=t.members,c=t.messages,l=t.unread,i=e.classes,s=e.onSend,m=e.socket,u=e.onInvite,d=this.state,h=d.selectedMember,f=d.inviteDialog,p=this.handleDialogClose,b=this.handleMemberSelect,v=this.handleInviteDialogOpen,E=this.handleScroll,C=this.scrollToBottom;return o.a.createElement(a.Fragment,null,h&&o.a.createElement(g,null,o.a.createElement(D.a,{open:!0,onClose:p,"aria-labelledby":"chatroom-member-dialog"},o.a.createElement(x.a,null,h.name),o.a.createElement(k.a,null,h.intro))),f&&!h&&o.a.createElement(g,null,o.a.createElement(he,{onInvite:u,onClose:p,socket:m})),o.a.createElement(pe.a,{position:"static"},o.a.createElement(ve.a,null,o.a.createElement($.a,{variant:"h6",color:"inherit"},n),o.a.createElement(L.a,{color:"inherit",onClick:v},"\u9080\u8acb"))),o.a.createElement("div",{className:i.main},o.a.createElement("div",{className:i.message},l>0&&o.a.createElement(L.a,{onClick:function(){return C()},className:i.unreadButton},"\u65b0\u8a0a\u606f: ".concat(l),o.a.createElement(Oe.a,null)),o.a.createElement("div",{ref:this.messagesDiv,onScroll:E,className:i.list},o.a.createElement(_.a,{className:i.charoomList},c.map(function(e,t){var n=e.name,a=e.text;return o.a.createElement(W.a,{key:t},o.a.createElement(ae.a,null,o.a.createElement(ge.a,null)),o.a.createElement(M.a,{primary:n,secondary:a}))})),o.a.createElement("div",{ref:this.scrollDownHelper})),o.a.createElement(ye,{classes:i,onSend:s})),o.a.createElement("aside",{className:i.members},o.a.createElement(_.a,null,r.map(function(e){var t=e.name,n=e.id;return o.a.createElement(W.a,{button:!0,onClick:function(){return b(e)},key:"user#".concat(n)},o.a.createElement(ae.a,null,o.a.createElement(ge.a,null)),o.a.createElement(M.a,{primary:t}))})))))}}]),t}(a.Component),je=Object(me.withStyles)(function(e){return{main:{paddingTop:"5px",height:"calc(100% - 68px)",display:"flex"},message:{flex:1,height:"100%"},members:{width:"200px",height:"100%",backgroundColor:"#ffe6e6",overflowY:"auto"},list:{height:"calc(100% - 100px)",overflowY:"scroll"},input:{height:"100px",backgroundColor:"#e6f7ff",display:"flex"},inputButton:{height:"50px"},inputText:{height:"72px"},textWraper:{flex:1,paddingLeft:"10px"},buttonWraper:{display:"flex",justifyContent:"center",alignItems:"center",width:"100px"},unreadButton:{position:"fixed",left:"50%",bottom:"120px",zIndex:10}}})(ke),xe=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={name:""},n.handleTextChange=function(e){return n.setState({name:e.target.value})},n.handleSubmit=function(){var e=n.props,t=e.onSubmit,a=e.onClose;t({name:n.state.name}),a()},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.name,t=this.props.onClose,n=this.handleTextChange,a=this.handleSubmit;return o.a.createElement(D.a,{open:!0,onClose:t},o.a.createElement(x.a,null,"\u5efa\u7acb\u65b0\u804a\u5929\u5ba4"),o.a.createElement(k.a,null,o.a.createElement(I.a,{value:e,onChange:n,autoFocus:!0,margin:"dense",label:"\u623f\u540d",type:"text",fullWidth:!0})),o.a.createElement(O.a,null,o.a.createElement(L.a,{onClick:t,color:"primary"},"\u53d6\u6d88"),o.a.createElement(L.a,{onClick:a,color:"primary"},"\u78ba\u5b9a")))}}]),t}(a.Component),Se=n(148),De=n.n(Se),we=n(150),Ie=n.n(we),Ne=n(149),Le=n.n(Ne),Ue=function(e){var t=e.name,n=e.members,a=e.classes,r=e.onJoin;return o.a.createElement(De.a,{className:a.card},o.a.createElement(Le.a,null,o.a.createElement($.a,{variant:"h6"},t),o.a.createElement($.a,{color:"textSecondary",gutterBottom:!0},"\u6210\u54e1: ".concat(n))),o.a.createElement(Ie.a,null,o.a.createElement(L.a,{onClick:r,size:"small"},"Join")))},Be=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={chatrooms:[],newRoomDialogOpen:!1},n.handleLobbySub=function(){var e=n.props.socket;e.emit("join_lobby",function(t){n.setState({chatrooms:t},function(){e.on("lobby",function(e){var t,a,o=e.type,r=e.value,c=Object(i.a)(n.state.chatrooms);switch(o){case"new_chatroom":c.push(r);break;case"new_member":t=c.findIndex(function(e){return e.id===r}),(a=Object(s.a)({},c[t])).members=a.members+1,c.splice(t,1,a);break;case"delete_member":t=c.findIndex(function(e){return e.id===r}),(a=Object(s.a)({},c[t])).members=a.members-1,c.splice(t,1,a);break;default:console.log("default")}n.setState({chatrooms:c})})})})},n.handleLobbyUnsub=function(){n.props.socket.off("lobby")},n.componentDidMount=function(){n.props.connected&&n.handleLobbySub()},n.componentWillUnmount=function(){n.handleLobbyUnsub()},n.componentDidUpdate=function(e){var t=n.props.connected;t!==e.connected&&(t?n.handleLobbySub():n.handleLobbyUnsub())},n.handleNewChatroom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.props.socket.emit("create_chatroom",e)},n.handleDialogOpen=function(){return n.setState({newRoomDialogOpen:!0})},n.handleDialogClose=function(){return n.setState({newRoomDialogOpen:!1})},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.onJoin,a=e.connected,r=this.state,c=r.chatrooms,l=r.newRoomDialogOpen,i=this.handleNewChatroom,s=this.handleDialogOpen,m=this.handleDialogClose;return o.a.createElement("div",null,o.a.createElement(pe.a,{position:"static"},o.a.createElement(ve.a,null,o.a.createElement($.a,{variant:"h6",color:"inherit"},"Lobby"),o.a.createElement(L.a,{disabled:!a,onClick:s,color:"inherit"},"New"))),o.a.createElement("div",{className:t.cardContainer},a?c.map(function(e){var a=e.name,r=e.members,c=e.id;return o.a.createElement(Ue,{key:c,name:a,members:r,classes:t,onJoin:n(c)})}):o.a.createElement($.a,{variant:"h5",gutterBottom:!0},"\u9023\u7dda\u4e2d")),l&&o.a.createElement(g,null,o.a.createElement(xe,{onSubmit:i,onClose:m})))}}]),t}(a.Component),_e=Object(me.withStyles)(function(e){return{card:{maxWidth:200,margin:10},cardContainer:{margin:20,display:"flex",flexWrap:"wrap"}}})(Be),Te=(n(346),n(151)),We=n.n(Te),Re=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).componentDidMount=function(){var e=n.state.socket,t=Object(p.a)(Object(p.a)(n)),a=t.handleDisconnect,o=t.handleLogin;e.on("connect",function(){setTimeout(o,500)}),e.on("disconnect",function(){a(),n.setState({connected:!1})})},n.handleDisconnect=function(){var e=n.state,t=e.socket,a=e.id;t.off("user#".concat(a))},n.handleLogin=function(){var e=n.state,t=e.socket,a=e.id;t.emit("login",a,function(e){n.setState(Object(s.a)({},e,{connected:!0}),function(){return t.on("user#".concat(e.id),function(e){var t=e.type,a=e.value,o=n.state.invitations;switch(t){case"new_invitation":o=[].concat(Object(i.a)(o),[a]);break;default:console.log("default")}n.setState({invitations:o})})})})},n.handleUserInvite=function(e){return function(t){n.state.socket.emit("invite_user",{inviteeId:t,chatroomId:e},console.log)}},n.handleChatroomRead=function(e,t){var a=n.state.chatrooms,o=Object(s.a)({},a[e],{unread:0});n.setState(Object(s.a)({},t,{chatrooms:Object(s.a)({},a,Object(l.a)({},e,o))}))},n.handleChatroomSelect=function(e){return function(){if(e!==n.state.index)if(e>=0){var t=n.state.chatroomIndex[e];n.handleChatroomRead(t,{index:e})}else n.setState({index:e})}},n.handleChatroomJoin=function(e){return function(){var t=n.state,a=t.socket,o=t.chatrooms,r=t.chatroomIndex;a.emit("join_chatroom",e,function(e){if(e){var t=e.id;n.setState({chatrooms:Object(s.a)({},o,Object(l.a)({},t,Object(s.a)({},e,{unread:0}))),chatroomIndex:[].concat(Object(i.a)(r),[t])},function(){a.on("chatroom#".concat(t),function(e){var a=e.type,o=e.value,r=n.state.chatrooms,c=r[t],m=c.members,u=c.messages,d=c.name,h=c.unread,f=-1,p=void 0;switch(a){case"new_message":u=[].concat(Object(i.a)(u),[o]),h+=1;break;case"new_member":m=[].concat(Object(i.a)(m),[o]),p={name:"\u7cfb\u7d71\u8a0a\u606f",text:"".concat(o.name||"User#".concat(o.id)," \u52a0\u5165\u804a\u5929\u5ba4")};break;case"delete_member":(f=m.findIndex(function(e){return e.id===o}))>=0&&(p={name:"\u7cfb\u7d71\u8a0a\u606f",text:"".concat(m[f].name," \u96e2\u958b\u804a\u5929\u5ba4")},m.splice(f,1));break;case"update_member":f=m.findIndex(function(e){return e.id===o.id}),u=u.map(function(e){return e.userId===o.id?Object(s.a)({},e,{name:o.name}):e}),p=o.name===m[f].name?void 0:{name:"\u7cfb\u7d71\u8a0a\u606f",text:"".concat(m[f].name," \u6539\u540d\u70ba ").concat(o.name)},m.splice(f,1,o);break;default:console.log("default")}n.setState({chatrooms:Object(s.a)({},r,Object(l.a)({},t,{id:t,name:d,members:m,unread:h,messages:p?u.concat(p):u}))})})})}})}},n.handleChatroomLeave=function(e){return function(){var t=n.state.socket;t.emit("leave_chatroom",e,function(a){if(a!==e)console.log("Wrong!!");else{t.off("chatroom#".concat(a));var o=n.state,r=o.chatrooms,c=o.chatroomIndex,i=o.index,m=c.indexOf(a),u=c.filter(function(e){return e!==a}),d=Object(s.a)({},r,Object(l.a)({},a,void 0));n.setState({chatrooms:d,chatroomIndex:u,index:i>m?i-1:i===m?-1:i})}})}},n.handleSendMessage=function(e){return function(t,a){n.state.socket.emit("new_message",{chatroomId:e,text:t},function(e){e||a&&a()})}},n.handleInfoUpdate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.state.socket.emit("update_info",e,function(e){var t=e.name,a=e.intro;n.setState({name:t,intro:a})})},n.handleDecline=function(e){return function(){n.state.socket.emit("decline_invitation",e,function(t){if(!t){var a=n.state.invitations.filter(function(t){return t.id!==e});n.setState({invitations:a})}})}},n.handleAccept=function(e){return function(){n.state.socket.emit("accept_invitation",e,function(t,a){if(!t){var o=n.state.invitations.filter(function(t){return t.id!==e});n.setState({invitations:o},n.handleChatroomJoin(a))}})}},n.state={socket:v()("https://infinite-waters-19418.herokuapp.com/"),connected:!1,invitations:[],index:-1,chatrooms:{},chatroomIndex:[],name:"",intro:"",id:-1},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state,n=t.chatroomIndex,a=t.chatrooms,r=t.index,c=t.invitations,l=t.socket,i=t.name,s=t.intro,m=t.connected,u=this.handleChatroomSelect,d=this.handleChatroomJoin,h=this.handleSendMessage,f=this.handleInfoUpdate,p=this.handleChatroomLeave,b=this.handleUserInvite,v=this.handleDecline,E=this.handleAccept,g=this.handleChatroomRead,C=n.map(function(e){return a[e]});return o.a.createElement("div",{className:e.container},o.a.createElement(We.a,null),o.a.createElement("nav",{className:e.nav},o.a.createElement(de,{connected:m,index:r,onAccept:E,onDecline:v,name:i,intro:s,onInfoUpdate:f,chatrooms:C,onSelect:u,invitations:c,onLeave:p})),o.a.createElement("section",{className:e.main},r>=0?o.a.createElement(je,{onRead:g,onInvite:b(n[r]),socket:l,key:n[r],chatroom:C[r],onSend:h(n[r])}):o.a.createElement(_e,{connected:m,socket:l,onJoin:d})))}}]),t}(a.Component),Me=Object(me.withStyles)(function(e){return{container:{height:"100%",display:"flex"},nav:{paddingTop:"50px",width:"300px",borderRight:"1px solid gray",height:"100%"},main:{flex:1,height:"100%"}}})(Re);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(Me,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[152,2,1]]]);
//# sourceMappingURL=main.e5ff0fc7.chunk.js.map